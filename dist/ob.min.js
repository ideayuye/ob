!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ob=e()}(this,function(){"use strict";function t(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}function e(t){return null!==t&&"object"==typeof t}function i(t){return j.call(t)===A}function n(t,e){return D.call(t,e)}function r(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function s(t){if(!I.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}function o(t){return/native code/.test(t.toString())}function a(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function u(t){x.target&&C.push(x.target),x.target=t}function h(){x.target=C.pop()}function c(t,e){t.__proto__=e}function p(t,e,i){for(var n=0,s=i.length;n<s;n++){var o=i[n];r(t,o,e[o])}}function f(t){if(e(t)){var r;return n(t,"__ob__")&&t.__ob__ instanceof $?r=t.__ob__:V.shouldConvert&&(Array.isArray(t)||i(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new $(t)),r}}function d(t,e,i,n){var r=new x,s=Object.getOwnPropertyDescriptor(t,e);if(!s||s.configurable!==!1){var o=s&&s.get,a=s&&s.set,u=f(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=o?o.call(t):i;return x.target&&(r.depend(),u&&u.dep.depend(),Array.isArray(e)&&_(e)),e},set:function(e){var n=o?o.call(t):i;e===n||e!==e&&n!==n||(a?a.call(t,e):i=e,u=f(e),r.notify())}})}}function l(t,e,i){if(Array.isArray(t))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(n(t,e))return void(t[e]=i);var r=t.__ob__;if(!(t._isVue||r&&r.vmCount))return r?(d(r.value,e,i),r.dep.notify(),i):void(t[e]=i)}function v(t,e){var i=t.__ob__;t._isVue||i&&i.vmCount||n(t,e)&&(delete t[e],i&&i.dep.notify())}function _(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&_(e)}function y(t){M.clear(),b(t,M)}function b(t,i){var n,r,s=Array.isArray(t);if((s||e(t))&&Object.isExtensible(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(i.has(o))return;i.add(o)}if(s)for(n=t.length;n--;)b(t[n],i);else for(r=Object.keys(t),n=r.length;n--;)b(t[r[n]],i)}}function g(t,e){if(!i(e))return void(e={});for(var n=Object.keys(e),r=n.length;r--;)w(t,n[r]);f(e),e.__ob__&&e.__ob__.vmCount++,t._data=e}function w(t,e){a(e)||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(i){t._data[e]=i}})}function m(t){this._watchers=[],g(this,t),this._isInited=!!this._data,this.$set=l,this.$del=v,this.watch=function(t,e,i){var n=new F(this,t,e,i);return n.teardown.bind(n)}}var O,j=Object.prototype.toString,A="[object Object]",D=Object.prototype.hasOwnProperty,I=("undefined"!=typeof console,/[^\w.$]/),S="__proto__"in{};O="undefined"!=typeof Set&&o(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return void 0!==this.set[t]},t.prototype.add=function(t){this.set[t]=1},t.prototype.clear=function(){this.set=Object.create(null)},t}();var k=0,x=function(){this.id=k++,this.subs=[]};x.prototype.addSub=function(t){this.subs.push(t)},x.prototype.removeSub=function(e){t(this.subs,e)},x.prototype.depend=function(){x.target&&x.target.addDep(this)},x.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},x.target=null;var C=[],P=Array.prototype,z=Object.create(P);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=P[t];r(z,t,function(){for(var i=arguments,n=arguments.length,r=new Array(n);n--;)r[n]=i[n];var s,o=e.apply(this,r),a=this.__ob__;switch(t){case"push":s=r;break;case"unshift":s=r;break;case"splice":s=r.slice(2)}return s&&a.observeArray(s),a.dep.notify(),o})});var E=Object.getOwnPropertyNames(z),V={shouldConvert:!0,isSettingProps:!1},$=function(t){if(this.value=t,this.dep=new x,this.vmCount=0,r(t,"__ob__",this),Array.isArray(t)){var e=S?c:p;e(t,z,E),this.observeArray(t)}else this.walk(t)};$.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)d(t,e[i],t[e[i]])},$.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)f(t[e])};var B=0,F=function(t,e,i,n){void 0===n&&(n={}),this.vm=t,t._watchers.push(this),this.deep=!!n.deep,this.user=!!n.user,this.lazy=!1,this.sync=!0,this.expression=e.toString(),this.cb=i,this.id=++B,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new O,this.newDepIds=new O,"function"==typeof e?this.getter=e:(this.getter=s(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};F.prototype.get=function(){u(this);var t=this.getter.call(this.vm,this.vm);return this.deep&&y(t),h(),this.cleanupDeps(),t},F.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},F.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var i=t.deps[e];t.newDepIds.has(i.id)||i.removeSub(t)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},F.prototype.update=function(){this.lazy?this.dirty=!0:this.sync&&this.run()},F.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||e(t)||this.deep){var i=this.value;this.value=t,this.cb.call(this.vm,t,i)}}},F.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||this.vm._vForRemoving||t(this.vm._watchers,this);for(var i=this.deps.length;i--;)e.deps[i].removeSub(e);this.active=!1}};var M=new O;return m.version="1.0.1",m});
